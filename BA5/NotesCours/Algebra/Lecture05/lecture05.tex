% !TeX program = lualatex
% Using VimTeX, you need to reload the plugin (\lx) after having saved the document in order to use LuaLaTeX (thanks to the line above)

\documentclass[a4paper]{article}

% Expanded on 2023-10-25 at 21:26:50.

\usepackage{../../style}

\title{Algebra}
\author{Joachim Favre}
\date{Mercredi 25 octobre 2023}

\begin{document}
\maketitle

\lecture{5}{2023-10-23}{Proof by staring}{
\begin{itemize}[left=0pt]
    \item Definition of the symmetric group.
    \item Definition of orbits, and proof that they are either disjoint or equal.
    \item Explanation that the cycle decomposition of a permutation is unique, except for the order of factors.
    \item Explanation of how to compute the product of two permutations, and proof of a quick method to compute the special case of a conjugation.
    \item Proof that the symmetric group is generated by the transpositions.
\end{itemize}

}

\subsection{Symmetric group}

\begin{parag}{Definition: Permutation}
    A \important{permutation} of an \textit{ordered} set is a bijective map.

    \begin{subparag}{Example}
        For instance, the following function $\pi$ is a permutation: 
        \[\pi\left(\left\{1,2,3,4,5\right\}\right) = \left\{5,2,4,3,1\right\}\]
        
    \end{subparag}
    
\end{parag}


\begin{parag}{Definition: Symmetric group}
    The \important{symmetric group} $S_n$ is the group of all permutations of $n$ elements. The group operation is the composition of the permutations (composition of the functions).

    The identity is the trivial permutation, where $\text{id}\left(i\right) = i$ for all $i \in \left\{1, \ldots, n\right\}$. The inverse permutation of $\rho \in S_n$ is the inverse function $\rho^{-1}$ such that $\rho^{-1}\left(k\right) = i$ when $\rho\left(i\right) = k$.

    \begin{subparag}{Remark}
        This is not an Abelian group.
    \end{subparag}

    \begin{subparag}{Remark}
        By doing combinatorics, we can find that $\left|S_n\right| = n!$.
    \end{subparag}
\end{parag}


\begin{parag}{Example}
    $S_3$ is for instance:
    \[S_3 = \left\{\begin{pmatrix} 1 & 2 & 3 \\ 1 & 2 & 3 \end{pmatrix} , \begin{pmatrix} 1 & 2 & 3 \\ 2 & 1 & 3 \end{pmatrix} , \begin{pmatrix}  1 & 2 & 3 \\1 & 3 & 2 \end{pmatrix} , \begin{pmatrix}  1 & 2 & 3 \\3 & 2 & 1 \end{pmatrix} , \begin{pmatrix}  1 & 2 & 3 \\2 & 3 & 1 \end{pmatrix} , \begin{pmatrix}  1 & 2 & 3 \\3 & 1 & 2 \end{pmatrix} \right\}\]
    
    The last element for instance means that $\pi\left(1\right) = 3$, $\pi\left(2\right) = 1$ and $\pi\left(3\right) = 2$. We notice that this notation is not nice to use, so we will improve it.


    The first element is typically written $1$ or $e$, since this is the identity.
\end{parag}

\begin{parag}{Definition: Orbit}
    Let $\rho \in S_n$, and $x \in \left\{1, \ldots, n\right\}$ be a number (notice that it is not an element of $S_n$).

    The \important{orbit} of $x$ under the action of $\left\langle \rho \right\rangle$ is defined as: 
    \[\text{Orb}_{\rho}\left(x\right) = \left\{\rho^j x | \rho^j \in \left\langle \rho \right\rangle\right\} = \left\{x, \rho x, \rho^2 x, \ldots, \rho^{k-1} x\right\}\]

    This is all the numbers in $\left\{1, \ldots, n\right\}$ that can be reached by applying $\rho$ successively.
    
    \begin{subparag}{Example}
        Let us consider $\rho = \begin{pmatrix} 1 & 2 & 3 \\ 2 & 1 & 3 \end{pmatrix} \in S_3$. Then: 
        \[\text{Orb}_{\rho}\left(1\right) = \text{Orb}_{\rho}\left(2\right) = \left\{1, 2\right\}\]
        
        Indeed, $3$ can never be reached by applying $\rho$ to $1$ or $2$. However: 
        \[\text{Orb}_{\rho}\left(3\right) = \left\{3\right\}\]

        We thus see that: 
        \[\left\{1, 2, 3\right\} = \text{Orb}_\rho\left(1\right) \cup \text{Orb}_{\rho}\left(3\right)\]
    \end{subparag}
\end{parag}

\begin{parag}{Proposition}
    Let $\rho \in S_n$, and $x_1, x_2 \in \left\{1, \ldots, n\right\}$.

    Either their orbits are equal, or they are disjoint:
    \[\text{Orb}_{\rho}\left(x_1\right) = \text{Orb}_{\rho}\left(x_2\right) \mathspace \text{or} \mathspace \text{Orb}_{\rho}\left(x_1\right) \cap \text{Orb}_{\rho}\left(x_2\right) = \o\]

    \begin{subparag}{Proof}
        Let's suppose that $\text{Orb}_{\rho}\left(x_1\right) \cap \text{Orb}_{\rho}\left(x_2\right) \neq \o$. Thus, let $y \in \text{Orb}_{\rho}\left(x_1\right) \cap \text{Orb}_{\rho}\left(x_2\right)$.

        This means that $y = \rho^i x_1$ and $y = \rho^k x_2$ for some $i, k$. However, this yields that: 
        \[x_2 = \rho^{i - k}x_1\]
        
        This shows that $x_2 \in \text{Orb}_{\rho}\left(x_1\right)$. However, by definition of the orbit, it also means that $\rho^k x_2 \in \text{Orb}_{\rho}\left(x_1\right)$ for any $k$. We have thus just showed that $\text{Orb}_{\rho}\left(x_2\right) \subset \text{Orb}_{\rho}\left(x_1\right)$. 

        We can do the same reasoning to find that $\text{Orb}_{\rho}\left(x_1\right) \subset \text{Orb}_{\rho}\left(x_2\right)$. Putting this fact with the previous one, we get $\text{Orb}_{\rho}\left(x_1\right) = \text{Orb}_{\rho}\left(x_2\right)$.

        This thus indeed shows that, if $\text{Orb}_{\rho}\left(x_1\right) \cap \text{Orb}_{\rho}\left(x_2\right) \neq \o$, then $\text{Orb}_{\rho}\left(x_1\right) = \text{Orb}_{\rho}\left(x_2\right)$; which is equivalent to our proposition.

        \qed
    \end{subparag}

    \begin{subparag}{Personal remark: Fun fact}
        This means that we can construct an equivalence relation using those orbits; where two elements of $\left\{1, \ldots, n\right\}$ are in relation if and only if they are in the same orbit.
    \end{subparag}
\end{parag}

\begin{parag}{Definition: Trivial orbit}
    Let $\rho \in S_n$, and $x \in \left\{1, \ldots, n\right\}$.

    If $\text{Orb}_{\rho}\left(x\right) = \left\{x\right\}$ has a single element, then it is said to be a \important{trivial orbit}.
\end{parag}

\begin{parag}{Definition: Cycle}
    $\pi \in S_n$ is said to be a \important{cycle} if it has a single non-trivial orbit (and possibly several trivial orbits). Its \important{length} is the number of elements inside its non-trivial orbit.

    Letting $x$ be any element of its non-trivial orbit, we note a cycle of length $q$ as: 
    \[\pi = \left(x, \pi\left(x\right), \pi^2\left(x\right), \ldots, \pi^{q-1}\left(x\right)\right)\]
    
    In other words, any element which is in the cycle in mapped to the one to its right in this notation (if it is the last element, it is mapped to the first element); and any element which is not in this notation is mapped to itself.

    \begin{subparag}{Remark}
        This notation is not completely unique, since we can take a cyclic permutation: $\left(1, 2, 3\right) = \left(2, 3, 1\right)$. However, as soon as we fix the first element, this notation is unique.
    \end{subparag}

    \begin{subparag}{Example}
        We notice that $\rho = \begin{pmatrix} 1 & 2 & 3 \\ 2 & 1 & 3 \end{pmatrix} \in S_3$ is a cycle: it has two orbits, but only one non-trivial orbit. We can thus write: 
        \[\rho = \left(1, 2\right)\]

        This means that $\rho\left(1\right) = 2$, the element to its right; $\rho\left(2\right) = 1$ the first element (the element to its right with an overflow); and $\rho\left(3\right) = 3$ since it is not in the notation. Note that we could have written equivalently $\rho = \left(2, 1\right)$.

        However, $\sigma = \begin{pmatrix} 1 & 2 & 3 & 4 \\ 2 & 1 & 4 & 3 \end{pmatrix} \in S_4 $ is not a cycle, since it has two non-trivial orbits: 
        \[\text{Orb}_{\sigma}\left(1\right) = \left\{1, 2\right\}, \mathspace \text{Orb}_{\sigma}\left(3\right) = \left\{3, 4\right\}\]
    \end{subparag}
\end{parag}

\begin{parag}{Personal remark: Cycle inverse}
    The inverse of a cycle $\left(x_1, x_2, \ldots, x_n\right)$ is just $\left(x_n, \ldots, x_2, x_1\right)$. Indeed, $\left(x_1, \ldots, x_n\right)\left(x_n, \ldots, x_1\right)$ is such that elements which are not in the cycle are not touched, and the other ones are mapped to the element to their right, and then back to where started. 
\end{parag}

\begin{parag}{Definition: Disjoint cycles}
    Let $\pi_1, \pi_2$ be cycles.

    They are said to be \important{disjoint} if their non-trivial orbits do not intersect.

    \begin{subparag}{Example}
        For instance, $\left(1, 2\right)$ and $\left(4, 5\right)$ are disjoint. However, $\left(1, 2\right)$ and $\left(1, 3, 4\right)$ are not disjoint since they share a $1$ in their orbit.
    \end{subparag}
\end{parag}

\begin{parag}{Proposition: Commutativity}
    Disjoint cycles commute in $S_n$

    \begin{subparag}{Proof}
        Let $\pi_1$ and $\pi_2$ be disjoint cycles. Also, let $O_1, O_2 \subset \left\{1, \ldots, n\right\}$ be their non-trivial orbits. We notice that, since $\pi_1$ and $\pi_2$ are disjoint, $O_1 \cap O_2 = \o$ by definition.

        If $x \not\in O_1 \cup O_2$, it means that it is in a trivial orbit of both cycles. Thus, $\pi_2 x = x$ and $\pi_1 x$. It indeed yields that: 
        \[\pi_2 \pi_1 x = x = \pi_1 \pi_2 x\]
        
        Now, let's suppose that $x \in O_1$, and thus $x \not \in O_2$. Let $y = \pi_1 x \in O_1$. We also know that $y \not \in O_2$ since the orbits don't intersect. Now, we know that both $x$ and $y$ are in a trivial orbit of $\pi_2$, meaning that $\pi_2 x = x$ and $\pi_2 y = y$. Therefore, we do have that: 
        \[\pi_2 \pi_1 x = \pi_2 y = y = \pi_1 x = \pi_1 \pi_2 x\]

        The case where $x \in O_2$ is completely symmetric.

        \qed
    \end{subparag}

    \begin{subparag}{Example}
        For instance: 
        \[\left(1, 2, 3\right)\left(5, 6\right) = \left(5, 6\right)\left(1, 2, 3\right)\]
        
        However, it is possible to show that: 
        \[\left(1, 2, 3\right) = \left(1, 2\right)\left(2, 3\right) \neq \left(2, 3\right)\left(1, 2\right) = \left(1, 3, 2\right)\]
    \end{subparag}
\end{parag}

\begin{parag}{Theorem: Existence and unicity of the cycle decomposition}
    Let $\sigma \in S_n$ be a permutation.

    Then, $\sigma$ can be uniquely written (up to the order of factors) as a product of disjoint cycles. When $\sigma$ is written in this form, it is said to be in \important{cycle decomposition}.

    \begin{subparag}{Proof idea}
        We know that $\left\{1, \ldots, n\right\}$ can be expressed uniquely as a union of disjoint orbits. However, each orbit can be written uniquely as a cycle, giving our result.
    \end{subparag}
\end{parag}

\begin{parag}{Personal remark: Inverse}
    If we have the cycle decomposition of a permutation, we can very easily compute its inverse: we only have to compute the inverse of each of its cycles. Since the inverse of a cycle contains the same elements, this will also produce a product of disjoint cycles.

    \begin{subparag}{Example}
        For instance, if $\sigma = \left(1, 2, 3\right)\left(4, 5, 6\right)$, then: 
        \[\sigma^{-1} = \left(3, 2, 1\right)\left(6, 5, 4\right)\]

        Since disjoint cycles commute, we do have that: 
        \autoeq{\sigma \sigma^{-1} = \left(1, 2, 3\right)\left(4, 5, 6\right)\left(3, 2, 1\right)\left(6, 5, 4\right) = \left(1, 2, 3\right)\left(4, 5, 6\right)\left(6, 5, 4\right)\left(3, 2, 1\right) = \left(1, 2, 3\right)\left(3, 2, 1\right) = e}
    \end{subparag}
\end{parag}

\begin{parag}{Cycle decomposition algorithm}
    Let's say that we have an element written as a product of non-disjoint cycles. For instance, in $S_6$: 
    \[\sigma = \left(1, 3, 5, 2\right) \left(2, 5, 6\right)\]
    
    To find its cycle decomposition, we start from the right (in composition order) with some element, say $1$, and see to what it is mapped. This way, we would see that $1$ is not changed by the first orbit and then mapped to $3$ by the second one. We start again with this $3$, and see that it is mapped to $5$, which is mapped to $6$, which is mapped to $1$ (since it is mapped to $2$ by the rightmost orbit, and then this $2$ is mapped to $1$ be the second orbit). However, we hit the same element a second time, which means that we finished our first cycle. Then, we need to do this with all our other elements which appear in $\sigma$ (we wouldn't need to see to what $4$ is mapped, since it does not appear in $\sigma$). This way, we find that: 
    \[\sigma = \left(1, 3, 5, 6\right)\left(2\right) = \left(1, 3, 5, 6\right)\]
    removing the trivial orbits.

    \begin{subparag}{Observation}
        A product of two elements in $S_n$ is thus computed in $O\left(n\right)$. However, we will see that it is much easier to compute a conjugation thanks to the following proposition.
    \end{subparag}
\end{parag}

\begin{parag}{Proposition: Conjugation}
    Let $\pi, \rho \in S_n$.

    The cycle decomposition of $\pi \rho \pi ^{-1}$ is obtained from that of $\rho$, by replacing each integer $i$ in the cycle decomposition of $\rho$ with the integer $\pi\left(i\right)$.

    \begin{subparag}{Example}
        Let's say that $\rho = \left(6, 2, 1\right)$ and $\pi = \left(3, 2\right)$. Then: 
        \[\pi \rho \pi ^{-1} = \left(\pi\left(6\right), \pi\left(2\right), \pi\left(1\right)\right) = \left(6, 3, 1\right)\]

        Similarly:
        \[\left(5, 3, 1\right)\left(2, 3, 5, 6\right)\left(5, 3, 1\right)^{-1} = \left(2, 1, 3, 6\right)\]

        This can be verified explicitly, by noticing that $\left(5, 3, 1\right)^{-1} = \left(1, 3, 5\right)$ and throwing the one-element orbit $\left(2\right)$.
    \end{subparag}
    
    \begin{subparag}{Proof}
        We see that:
        \[\pi \rho \pi^{-1} \left(\pi\left(i\right)\right) = \pi\left(\rho\left(i\right)\right)\]
        
        We can now do a \textit{``proof by staring''} (Prof. Lachowska): by looking long enough at our proof, we will see that we are done.

        The most important thing is to understand what we are trying to prove. We want to show that the cycles of $\pi \rho \pi^{-1}$ are such that, if $\rho\left(i\right)$ follows $i$ in some cycle of $\rho$, then $\pi\left(\rho\left(i\right)\right)$ will follow $\pi\left(i\right)$ in a cycle of $\pi \rho \pi^{-1}$. This is exactly what we have shown here: $\pi \rho \pi^{-1} : \pi\left(i\right) \mapsto \pi\left(\rho\left(i\right)\right)$, it maps an element $\pi\left(i\right)$ to an element $\pi\left(\rho\left(i\right)\right)$.

        \qed
    \end{subparag}
\end{parag}

\begin{parag}{Definition: Transposition}
    A cycle composed of two elements is named a \important{transposition}.
\end{parag}

\begin{parag}{Proposition}
    Let $\left(i_1, i_2, \ldots, i_k\right)$ be an arbitrary $k$-cycle of $S_n$.

    Then, it can be written as a product of $k-1$ transpositions: 
    \[\left(i_1, i_2, \ldots, i_k\right) = \left(i_1, i_k\right)\left(i_1, i_{k-1}\right)\cdots\left(i_1, i_{2}\right)\]

    \begin{subparag}{Personal remark: Intuition}
        This result makes sense. Indeed, $i_1$ would be mapped by the first transposition to $i_2$. Moreover, $i_k$ is mapped to $i_1$ by the last transposition. Finally, any other element $i_j$ would be mapped to $i_1$ by some transposition, and then to $i_{j+1}$ by the transposition right after.
    \end{subparag}

    \begin{subparag}{Proof}
        We make our proof by induction on $k$.

        Let us start with $k = 2$. We know that $\left(i_1, i_2\right) = \left(i_1, i_2\right)$ can be written as a product of a single transposition; so we indeed get our result.

        Now, let us consider $\left(i_1, \ldots, i_k, i_{k+1}\right)$, supposing that our hypothesis is true for $k$. In particular, our inductive hypothesis implies that the following equality holds:
        \[\left(i_1, i_2, \ldots, i_k\right) = \left(i_1, i_k\right)\left(i_1, i_{k-1}\right) \cdots \left(i_1, i_{2}\right)\]
        
        Now, we notice that: 
        \[\left(i_{1}, i_{k+1}\right)\left(i_1, i_2, \ldots, i_k\right) = \left(i_1, i_2, \ldots, i_k, i_{k+1}\right)\]
        since any element $i_j$ is mapped to $i_{j+1}$ for $j < k$; $i_k$ is mapped to $i_{k+1}$ and $i_{k+1}$ is mapped to $i_1$.
        
        This indeed allows us to find that: 
        \[\left(i_1, \ldots, i_{k+1}\right) = \left(i_1, i_{k+1}\right)\left(i_1, \ldots, i_k\right) \over{=}{IH} \left(i_1, i_{k+1}\right)\left(i_1, i_k\right)\cdots\left(i_1, i_2\right)\]
        
        \qed
    \end{subparag}
\end{parag}

\begin{parag}{Corollary}
    $S_n$ is generated by all transpositions $\left\{\left(i, j\right) | 1 \leq i \leq j \leq n\right\}$.

    \begin{subparag}{Proof}
        Let $\sigma \in S_n$. We can write it as a product of disjoint cycles. Then, each cycle can be written as a product of transpositions.

        \qed
    \end{subparag}

    \begin{subparag}{Remark}
        Decomposition into a product of transpositions is not unique in general. For instance:
        \[\left(1, 3\right) = \left(2, 3\right)\left(1,2\right)\left(2, 3\right)\]

        However, if we also ask for the cycles to be disjoint, this is unique if it exists (because then it would just be the cycle decomposition of our element).
    \end{subparag}
\end{parag}

\begin{parag}{Theorem}
    Let $\sigma \in S_n$.

    Then, it is either a product of an even or of an odd number of transpositions. It cannot be both.

    \begin{subparag}{Equivalent proposition}
        Equivalently, a product of an even number of transpositions cannot be equal to a product of an odd number of transpositions.
    \end{subparag}
\end{parag}

\end{document}
